{"uid":"febaee990553d2b4","name":"test_last_user_del","fullName":"test_ProgMusix.TestProgmusix#test_last_user_del","historyId":"bbd21a4d245af3a306c28bba00aac104","time":{"start":1725693962642,"stop":1725693962652,"duration":10},"status":"broken","statusMessage":"mysql.connector.errors.IntegrityError: 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`webshop`.`purchase`, CONSTRAINT `FKe81utdcmof6glv03yihoqhub9` FOREIGN KEY (`custom_user_id`) REFERENCES `custom_user` (`id`))","statusTrace":"self = <mysql.connector.connection_cext.CMySQLConnection object at 0x7fc842b01c30>\nquery = b'DELETE FROM custom_user WHERE id > 0', raw = False, buffered = False\nraw_as_string = False\n\n    @with_context_propagation\n    def cmd_query(\n        self,\n        query: StrOrBytes,\n        raw: Optional[bool] = None,\n        buffered: bool = False,\n        raw_as_string: bool = False,\n    ) -> Optional[Union[CextEofPacketType, CextResultType]]:\n        \"\"\"Send a query to the MySQL server\"\"\"\n        self.handle_unread_result()\n        if raw is None:\n            raw = self._raw\n        try:\n            if not isinstance(query, bytes):\n                query = query.encode(\"utf-8\")\n>           self._cmysql.query(\n                query,\n                raw=raw,\n                buffered=buffered,\n                raw_as_string=raw_as_string,\n                query_attrs=self.query_attrs,\n            )\nE           _mysql_connector.MySQLInterfaceError: Cannot delete or update a parent row: a foreign key constraint fails (`webshop`.`purchase`, CONSTRAINT `FKe81utdcmof6glv03yihoqhub9` FOREIGN KEY (`custom_user_id`) REFERENCES `custom_user` (`id`))\n\n/opt/hostedtoolcache/Python/3.10.14/x64/lib/python3.10/site-packages/mysql/connector/connection_cext.py:705: MySQLInterfaceError\n\nThe above exception was the direct cause of the following exception:\n\nself = <test_ProgMusix.TestProgmusix object at 0x7fc842b01d20>\n\n    def test_last_user_del(self):\n>       self.page.last_user_del_sql()\n\ntest_ProgMusix.py:122: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nProgMusix/page_model.py:236: in last_user_del_sql\n    cursor.execute(\"DELETE FROM custom_user WHERE id > 0\")\n/opt/hostedtoolcache/Python/3.10.14/x64/lib/python3.10/site-packages/mysql/connector/cursor_cext.py:357: in execute\n    result = self._connection.cmd_query(\n/opt/hostedtoolcache/Python/3.10.14/x64/lib/python3.10/site-packages/mysql/connector/opentelemetry/context_propagation.py:97: in wrapper\n    return method(cnx, *args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mysql.connector.connection_cext.CMySQLConnection object at 0x7fc842b01c30>\nquery = b'DELETE FROM custom_user WHERE id > 0', raw = False, buffered = False\nraw_as_string = False\n\n    @with_context_propagation\n    def cmd_query(\n        self,\n        query: StrOrBytes,\n        raw: Optional[bool] = None,\n        buffered: bool = False,\n        raw_as_string: bool = False,\n    ) -> Optional[Union[CextEofPacketType, CextResultType]]:\n        \"\"\"Send a query to the MySQL server\"\"\"\n        self.handle_unread_result()\n        if raw is None:\n            raw = self._raw\n        try:\n            if not isinstance(query, bytes):\n                query = query.encode(\"utf-8\")\n            self._cmysql.query(\n                query,\n                raw=raw,\n                buffered=buffered,\n                raw_as_string=raw_as_string,\n                query_attrs=self.query_attrs,\n            )\n        except MySQLInterfaceError as err:\n>           raise get_mysql_exception(\n                err.errno, msg=err.msg, sqlstate=err.sqlstate\n            ) from err\nE           mysql.connector.errors.IntegrityError: 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`webshop`.`purchase`, CONSTRAINT `FKe81utdcmof6glv03yihoqhub9` FOREIGN KEY (`custom_user_id`) REFERENCES `custom_user` (`id`))\n\n/opt/hostedtoolcache/Python/3.10.14/x64/lib/python3.10/site-packages/mysql/connector/connection_cext.py:713: IntegrityError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_xunit_setup_method_fixture_TestProgmusix","time":{"start":1725693962073,"stop":1725693962642,"duration":569},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"_xunit_setup_method_fixture_TestProgmusix::0","time":{"start":1725693962787,"stop":1725693962896,"duration":109},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"test_ProgMusix"},{"name":"subSuite","value":"TestProgmusix"},{"name":"host","value":"fv-az883-126"},{"name":"thread","value":"3104-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_ProgMusix"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"febaee990553d2b4.json","parameterValues":[]}